# 题目
![](第十章_编程题_images/编程题_1.png)
![](第十章_编程题_images/编程题_2_1.png)
![](第十章_编程题_images/编程题_2_2.png)
![](第十章_编程题_images/编程题_3-5.png)
![](第十章_编程题_images/编程题_6.png)
![](第十章_编程题_images/编程题_7_1.png)
![](第十章_编程题_images/编程题_7_2.png)

## 1
- `p1.h`文件:

```cpp
#ifndef __P1_H__
#define __P1_H__

#include <string>
#include <iostream>
using namespace std;

class BankAccount 
{
    private:
        string name;
        string accountNumber;
        double balance;
    
    public:
        BankAccount(string client, string num, double bal = 0.0);          // 构造函数: 初始化
        void show(void) const;       // 显示
        void deposit(double cash);   // 存款
        void withdraw(double cash);  // 取款
};

#endif // __P1_H__
```

- `p1.cpp`文件:

```cpp
#include "p1.h"

BankAccount::BankAccount(string client, string num, double bal)
{
    name = client;
    accountNumber = num;
    balance = bal;
}

void BankAccount::show(void) const       // 显示
{
    cout << "The Account Information: " << endl;
    cout << "Name: " << name << endl;
    cout << "Account: " << accountNumber << endl;
    cout << "Balance: " << balance << endl;
}

void BankAccount::deposit(double cash)
{
    balance += cash;
}

void BankAccount::withdraw(double cash)
{
    balance -= cash;
}
```

- `main.cpp`文件:

```cpp
#include <iostream>
#include "p1.h"

int main(void)
{
    BankAccount n1("Rick", "0001", 1000);
    n1.show();
    cout << "-------" << endl;

    n1.deposit(500);
    cout << "After deposit: "<< endl;
    n1.show();
    cout << "-------" << endl;

    n1.withdraw(800);
    cout << "After widthdraw: "<< endl;
    n1.show();

    return 0;
}
```


## 2
- p2.h文件:

```cpp
#ifndef __P2_H__
#define __P2_H__

#include <cstring>
#include <iostream>
#include <string>

using namespace std;

class Person
{
    private:
        static const int LIMIT = 25;        // 用 static 定义常量
        string lname;
        char fname[LIMIT];

    public:
        Person() {lname = ""; fname[0] = '\0';} // 默认构造函数, 放在这里会自动变成内联函数(inline)
        Person( const string &ln, const char *fn = "Heyyou");   // 自定义的构造函数
        void show() const;
        void FormalShow() const;
};

#endif
```

- p2.cpp文件:

```cpp
#include "p2.h"

Person::Person(const string & ln, const char *fn)
{
    lname = ln;
    strcpy(fname, fn);
}

void Person::show() const
{
    if(lname == "" && fname[0] == '\0')
        cout << "No Name!" << endl;
    else
        cout << "Person name: " << fname << " " << lname << endl;
}

void Person::FormalShow() const 
{
    if(lname == "" && fname[0] == '\0')
        cout << "No Name!" << endl;
    else
        cout << "Person Name: " << lname << ", " << fname << endl;
}
```

- main.cpp文件:

```cpp
#include "p2.h"
#include <iostream>

int main(void)
{
    Person one;     // 使用默认构造
    Person two("Rick"); // 只提供Last name
    Person three("Michael", "Jackson");

    one.show();
    one.FormalShow();

    cout << "-----" << endl;
    two.show();
    two.FormalShow();

    cout << "-----" << endl;
    three.show();
    three.FormalShow();

    return 0;
}
```

## 3
- 头文件 `golf.h`
```cpp
#ifndef __GOLF_H__
#define __GOLF_H__

#include <iostream>
#include <cstring>

using namespace std;

const int Len = 40;

/*
struct golf
{
    char fullname[Len];
    int handicap;
};

void setgolf(golf & g, const char * name, int hc);

int setgolf(golf & g);

void handicap(golf & g, int hc);

void showgolf(const golf &g);
*/

// 改用类来实现 golf
class golf
{
    private:
        char fullname[Len];
        int handicap;

    public:
        golf();     // 改写 int setgolf(golf & g);
        golf(const char * name, int hc);  // 改写 void setgolf(golf & g, const char * name, int hc);
        void setHandicap(int hc);
        void showgolf() const;
};

#endif
```

- 源文件 `golf.cpp`
```cpp
#include "golf.h"

golf::golf()
{
    cout << "The fullname is: ";
    cin.getline(fullname, Len);       // 捕获一整行

    cout << "The handicap is: ";
    cin >> handicap;
    cin.get();              // 清除缓冲区里的回车
}

golf::golf(const char *name, int hc)
{
    strcpy(fullname, name);   // 字符串拷贝
    handicap = hc;
}

void golf::setHandicap(int hc)
{
    handicap = hc;
}

void golf::showgolf() const
{
    cout << "The fullname is: " << fullname << endl;
    cout << "The Handicap is: " << handicap << endl;
}

```

- main.cpp文件
```cpp
#include <iostream>
#include "golf.h"

using namespace std;

int main(void)
{
    golf p1("Rick", 100);  // 自定义构造
    golf p2;                // 默认构造

    cout << endl;
    cout << "Now Show Two person...\n";

    p1. showgolf();
    cout << "-------" << endl;
    p2.showgolf();
    return 0;
}
```

## 4
- 头文件`p4.h`
```cpp
#ifndef __P4_H__
#define __P4_H__

#include <iostream>

namespace SALES
{
    const int QUARTERS = 4;

    class Sales
    {
        private:
            double sales[QUARTERS];
            double average;
            double max;
            double min;
        public:
            Sales();
            Sales(const double arr[], int n);
            void showSales() const;
    };
}

#endif // __P4_H__
```

- 源文件`p4.cpp`
```cpp
#include "p4.h"

using namespace std;

namespace SALES
{
    Sales::Sales(const double arr[], int n)     // n >= 4时, 只输入4个; n < 4时, 没输入的补零
    {
        double total = 0.0;
        int i = 0;

        // 赋值 & 算平均值
        for(i = 0; i < n && i < 4; i++){                   // 多于4个也还是输入4个
            sales[i] = arr[i];
            total += sales[i];
        }
        average = total / i;

        // 计算最大最小值
        max = sales[0];
        min = sales[0];
        for (int k = 1; k < i; k++){
            max = (max > sales[k]) ? max : sales[k];
            min = (min < sales[k]) ? min : sales[k];
        }

        // 异常处理
        if(n < 4){      // 输入的n不足4个, 则需要补零, 补足4个
            for(int k = n; k < 4; k++){
                sales[k] = 0;
            }
        }
    }

    Sales::Sales()
    {
        double total = 0.0;
        int i = 0;

        cout << "Enter 4 sales quarters:  " << endl;
        for (i = 0; i < QUARTERS; i++){     // 常量的声明放在头文件中.
            cout << "#" << i+1 << ": " << endl;
            cin >> sales[i];
            total += sales[i];

            if (i == 0){
                max = sales[i];
                min = sales[i];
            }
            else{
                max = (max > sales[i]) ? max : sales[i];
                min = (min < sales[i]) ? min : sales[i];
            }
        }
        average = total / QUARTERS;
    }

    void Sales::showSales() const
    {
        cout << "Sales of 4 QUARTERS: " << endl;
        for(int i = 0; i < QUARTERS; i++){
            cout << sales[i] << endl;
        }
        cout << "Average: " << average << endl;
        cout << "Max: " << max << endl;
        cout << "Min: " << min << endl;
    }
}
```

- main.cpp文件
```cpp
#include "p4.h"
using namespace std;
using namespace SALES;

int main(void)
{
    double arr[4] = {11.1, 22.2, 33.3, 44.4};

    Sales s1(arr, QUARTERS);
    Sales s2;           // 使用默认构造, 这里定义为交互式的方式输入

    cout << endl;

    cout << "Now show two info: " << endl;
    s1.showSales();
    cout << "--------\n";
    s2.showSales();
    return 0;
}
```

